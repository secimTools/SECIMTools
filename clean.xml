<tool id="clean" name="Clean Data Names">
    <description>Clean string names to avoid characters that could break Galaxy tools</description>
    <requirements>
        <!--Not sure about these requirements. Does it need all of the requirements that interface.py needs?-->
        <requirement type="python-module">numpy</requirement>
        <requirement type="python-module">pandas</requirement>
    </requirements>
    <command interpreter="python">clean.py
        --input $input
        --design $design
        --ID $uniqID
        --wideOut $wideOut
        --designOut $designOut
    </command>
    <inputs>
        <param name="input" type="data" format="tabular" label="Wide Dataset" help="Input dataset in wide format and tab separated. If file is not tab separated see TIP below."/>
        <param name="design" type="data" format="tabular" label="Metadata File" help="Metadata file tab separated. Note you need a 'sampleID' column. If not tab separated see TIP below"/>
        <param name="uniqID" type="text" size="30" value="" label="Unique Featrue ID" help="Name of the column in your Wide Dataset that has unique feature/compound/gene IDs."/>
    </inputs>
    <outputs>
        <data format="tabular" name="wideOut" label="Wide data" />
        <data format="tabular" name="designOut" label="Metadata" />
    </outputs>
    <macros>
        <import>macros.xml</import>
    </macros>
    <tests>
        <test>
            <param name="input" value="./test-data/test_data.tsv" />
            <param name="design" value="./test-data/test_design.csv" />
            <param name="uniqID" value="rowID" />
            <output name="wideOut" file="./test-data/test_clean_wideOut.tsv" ftype="tabular" />
            <output name="designOut" file="./test-data/test_clean_designOut.tsv" ftype="tabular" />
        </test>
    </tests>
<help>
.. class:: infomark

**TIP:**
If your data is not TAB delimited, use *Text Manipulation-&gt;Convert*

--------------------------------------------------------------------------------

**What it does**

This tool 'cleans' string names to avoid characters that could prevent one of the SECIM Galaxy Tools from executing properly.

--------------------------------------------------------------------------------

**Input**

- Two input datasets are required.

    @WIDE@

    **NOTE:** The sample IDs must match the sample IDs in the Metadata File (below).
    Extra columns will automatically be ignored.


    @METADATA@

    **In addition to your datasets, you need to provide:**

    **Unique Feature ID**

    - The column name in your wide dataset that contains the unique IDs for
      your features. In our example dataset you would input *Feature*

--------------------------------------------------------------------------------

**Output Files**

- This tool outputs 2 files where common illegal characters (e.g. slashes,
  spaces, pound, etc.) have been removed from (1) the 'Unique Feature ID' in the
  wide dataset, (2) 'sampleID' in the wide dataset, and (3) the 'sampleID' column
  in the metadata file.

</help>
</tool>
