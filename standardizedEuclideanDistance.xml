<tool id="standarizedEuclideanDistance" name="Standarized Euclidean Distance (Beta)" version="2.0.0">
    <description>Calculate the Euclidean distance for a set of multivariate data</description>
    <requirements>
        <requirement type="python-module">numpy</requirement>
        <requirement type="python-module">pandas</requirement>
        <requirement type="python-module">matplotlib</requirement>
        <requirement type="python-module">scipy</requirement>
        <requirement type="python-module">sklearn</requirement>
        <requirement type="python-module">palettable</requirement>
    </requirements>
    <command interpreter="python">standardizedEuclideanDistance.py
        --input $input
        --design $design
        --ID $uniqID
        --fig $plot
        --SEDtoMean $out1
        --SEDpairwise $out2
        
        #if $group
            --group $group
        #end if
        #if $levels
        	--levels $levels
        #end if
        #if $p
            --p $p
        #end if

        #if $order
            --order $order
        #end if
    </command>
    <inputs>
        <param name="input" type="data" format="tabular" label="Wide Dataset" help="Input dataset in wide format and tab separated. If file not tab separated see TIP below."/>
        <param name="design" type="data" format="tabular" label="Metadata File" help="Metadata file tab separated. Note you need a 'sampleID' column. If not tab separated see TIP below"/>
        <param name="uniqID" type="text" size="30" value="" label="Unique Feature ID" help="Name of the column in your Wide Dataset that has unique feature/compound/gene IDs."/>
        <param name="group" type="text" size="30" label="Input Group name to separate by [OPTIONAL]" help="Enter group name to calculate from. Spelling and capitalization must be exact" />
        <param name="order" type="text" size="30" label="Input runOrder name [OPTIONAL]" help="Enter run order name to calculate from. Spelling and capitalization must be exact" />
        <param name="levels" type="text" size="30" label="Adittional groups to separate by [OPTIONAL]" help="Enter group(s) name(s) to calculate from. Spelling and capitalization must be exact. If more than one group separate with ',' " />
        <param name="p" type="text" size="30" label="Percentile cutoff [OPTIONAL]" help="The percentile cutoff for standard distributions. The default is 0.95. " />
    </inputs>
    <outputs>
        <data format="pdf" name="plot" label="SEDplot" />
        <data format="tabular" name="out1" label="SEDtoMean" />
        <data format="tabular" name="out2" label="SEDpairwise" />
    </outputs>
    <macros>
        <import>macros.xml</import>
    </macros>
<help>

@TIP_AND_WARNING@


**What it does**

This tool estimates the variance and calculates (i) the standardized Euclidean distance (SED)
between each sample and the estimated center and (ii) the sample pairwise standardized euclidean distance by group.


**Input**

- Two input datasets are required.

    @WIDE@


    **NOTE:** The sample IDs must match the sample IDs in the Design File (below).
    Extra columns will automatically be ignored.


    @METADATA@


    **In addition to your datasets, you need to provide:**

    **Unique Feature ID**

    - The column name in your wide dataset that contains the unique IDs for
      your features. In our example dataset you would input *Feature*


    @GROUP@

    **NOTE:** Groups with one element will be excluded from the test.


    **Percentile cutoff**  [Optional]

    - Select a confidence interval cutoff for the standard distribution.  The
      default is 0.95.

--------------------------------------------------------------------------------

**Output Files**

**SED_**:: is a PDF containing a set of figures for each group and for all groups combined.  Figures include (1) the SED for samples in the indicated group to the estimated center, (2) the pairwise SED for samples in the indicated group and (3) box-plots for the pairwise SED for samples in the indicated group.

**SEDpairwise_**:: is a TSV containing the SED values, by group, for each pairwise sample combination.

**SEDtoCenter_**:: is a TSV containing the SED values for each sample to the estimated center.


</help>
</tool>
